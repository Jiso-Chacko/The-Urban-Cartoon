<div class="container-fluid">
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">View Products</h4>
                {{!-- <p class="card-description"> Add class <code>.table-hover</code>
                </p> --}}
                <table class="table table-hover" id="myTable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Image</th>
                            <th>Title</th>
                            <th>Category</th>
                            <th>Brand</th>
                            <th>Stock</th>
                            <th>Price</th>
                            <th>Edit</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each product}}
                        <tr>
                            <td>{{this.productName}}</td>
                            <td><img style="width:100px; height:100px" src="/productimages/{{this.imageName.[0]}}"
                                    alt="Image">
                            </td>
                            <td>{{this.productTitle}}</td>
                            <td>{{this.category}}</td>
                            <td>{{this.brand}}</td>
                            <td>{{this.quantity}}</td>
                            <td>{{this.price}}</td>

                            <td><a class="btn btn-success btn-sm"
                                    onclick="verifyEdit('{{this._id}}','{{this.productName}}','{{this.productTitle}}','{{this.category}}','{{this.brand}}','{{this.quantity}}','{{this.price}}','{{this.imageName.[0]}}','{{this.imageName.[1]}}','{{this.imageName.[3]}}')">Edit</a>
                            </td>
                            {{!-- <td><button class="btn btn-danger btn-sm"
                                    onclick="return confirm('Are you sure you want to delete {{this.productName}}?');" >Delete</button>
                            </td> --}}
                            <td><a class="btn btn-danger btn-sm" onclick="verifyEdit('{{this.productName}}')"
                                    href="/admin/deleteProduct?id={{this._id}}">Delete</a></td>


                        </tr>
                        {{/each}}


                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<script src="//cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js" defer></script>


<script>
    $(document).ready(function () {
        $('#myTable').DataTable();
    });

    function verifyEdit(proId,proName, proTitle, proCategory, proBrand, quantity, price, img1, img2, img3) {
        Swal.fire({
            title: `Do you want to edit ${proName}`,
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#42ba96',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Edit'
        }).then((result) => {
            if (result.isConfirmed) {
                location.href = `/admin/editProduct?id=${proId}`
            }
        })

    }

   
</script>