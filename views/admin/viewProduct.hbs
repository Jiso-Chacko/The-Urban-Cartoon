




<div class="container-fluid">
    <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">View Products</h4>
                {{!-- <p class="card-description"> Add class <code>.table-hover</code>
                </p> --}}
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Image</th>
                            <th>Title</th>
                            <th>Category</th>
                            <th>Brand</th>
                            <th>Stock</th>
                            <th>Price</th>
                            <th>Edit</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody>
                        {{#each product}}
                        <tr>
                            <td>{{this.productName}}</td>
                            <td><img style="width:100px; height:100px" src="/productimages/{{this.imageName.[0]}}" alt="Image">
                            </td>
                            <td>{{this.productTitle}}</td>
                            <td>{{this.category}}</td>
                            <td>{{this.brand}}</td>
                            <td>{{this.quantity}}</td>
                            <td>{{this.price}}</td>
                            
                            <td><a class="btn btn-success btn-sm" onclick="verifyEdit('{{this.productName}}')" href="/admin/editProduct?id={{this._id}}">Edit</a></td>        
                            {{!-- <td><button class="btn btn-danger btn-sm"
                                    onclick="return confirm('Are you sure you want to delete {{this.productName}}?');" >Delete</button>
                            </td> --}}
                            <td><a class="btn btn-danger btn-sm" onclick="verifyEdit('{{this.productName}}')" href="/admin/deleteProduct?id={{this._id}}">Delete</a></td>        

                            
                        </tr>
                        {{/each}}


                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


    <script src = "https://code.jquery.com/jquery-3.6.0.slim.min.js"
    integrity = "sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI="
    crossorigin = "anonymous" >
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


<script>
    function verifyEdit(proName) {
        let response = confirm('Are you sure you want to edit'+" "+ proName + '?')
        console.log(response)
        console.log(proName)
    }

</script>